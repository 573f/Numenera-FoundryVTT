<form class="{{cssClass}} flexcol " autocomplete="off">
    <!-- <nav class="sheet-navigation tabs">
		<a class="item active" data-tab="sheet"></a>
		<a class="item" data-tab="biography"></a>
	</nav> -->

    <h1 class="character flexrow">
        <p>
            <span class="charname">{{actor.name}}</span> is a
            <input type="text" name="data.descriptor" value="{{data.descriptor}}" class="descriptor" placeholder="Descriptor" />
            <select name="data.characterType" class="characterType" data-type="String">
                <option value="" />
                {{#each types}}
                <option value="{{abbrev}}" 
                    {{#if isActorType}}
                        selected="selected"
                    {{/if}}
                >{{name}}</option>
            {{/each}}
            </select>
            who
            <input type="text" name="data.focus" value="{{data.focus}}" class="focus" placeholder="Focus" />
        </p>
    </h1>

    <div class="flexrow">
        {{#each data.stats as |stat id|}}
            <div class="stats" data-stat="{{id}}">
                <h2>{{id}}</h2 >

                <!-- <span>
                    <h3 class="pool roll">Pool</h3>
                    <button class="roll">Roll!</button>
                </span> -->
                <span>
                    <input name="data.stats.{{id}}.pool.current" type="text" value="{{stat.pool.current}}" class="stats" data-dtype="Number" placeholder="0" />
                    /
                    <input name="data.stats.{{id}}.pool.maximum" type="text" value="{{stat.pool.maximum}}" class="stats" data-dtype="Number" placeholder="0" />
                </span>

                <h3>Edge</h3>
                <span>
                    <input name="data.stats.{{id}}.edge" type="text" value="{{stat.edge}}" class="stats" data-dtype="Number" placeholder="0" />
                </span>
            </div>
        {{/each}}
        <div class="stats">
            <h2>Tier</h2>
            <span>
                <input type="text" name="data.tier" value="{{data.tier}}" placeholder="1" min="1" max="6" data-dtype="Number" />
            </span>
            <h2>Effort</h2>
            <span>
                <input type="text" name="data.effort" value="{{data.effort}}" placeholder="1" min="1" data-dtype="Number" />
            </span>
        </div>
    </div>

    <div class="flexrow">
        <div class="flexcol">
            <h2>Damage track</h2>
            <p>
                {{#each damageTrackData as |track|}}
                    <label for="track.label">{{track.label}}
                        <input type="radio" readonly="readonly" name="damageTrack" value="{{track.index}}"
                        {{#if track.checked}}
                        checked="checked" 
                        {{else}}
                        disabled 
                        {{/if}}
                        />
                    </label>
                {{/each}}
            </p>
        <p>{{damageTrackDescription}}</p>
        </div>
    </div>

    <div class="flexrow">
        <div class="advances">
            <h2>Advancement</h2>
            <h3>XP <input type="text" name="data.xp" value="{{data.xp}}" placeholder="0" min="0" data-dtype="Number" /></h3>
            
            <ul>
                {{#each advances as |advance|}}
                <li>
                    <input type="checkbox" name="data.advances.{{advance.name}}" id="data.advances.{{advance.name}}" data-dtype="Boolean"
                        {{#if advance.isChecked}}
                        checked="checked"
                        {{/if}}
                    />
                    <label for="data.advances.{{advance.name}}">{{advance.label}}</label>
                </li>
                {{/each}}
            </ul>
        </div>
        <div class="recovery">
            <h2>Recovery: 1d6 + <input type="text" name="data.recovery" value="{{data.recovery}}" data-dtype="Number" /></h2>

            <ul>
        {{#each recoveriesData as |recovery|}}
            <li>
            <input type="checkbox" name="data.recoveries.{{recovery.key}}" id="{{recovery.label}}"
            {{#if recovery.checked}}
            checked
            {{/if}}
            />
                <label for="recoveries.action">{{recovery.label}}</label>
            </li>
        {{/each}}
        </ul>
        </div>
    </div>

    <div>
        <h2>Combat</h2>
        <h3>Armor
            <input type="number" name="data.armor" value="{{data.armor}}" min="0" />
        </h3>
        <h3>Weapons</h3>
        <table>
            <thead>
                <td>Name</td>
                <td>Type</td>
                <td>Damage</td>
                <td>Range</td>
                <td>Notes</td>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <input type="text" placeholder="Weapon name" />
                    </td>
                    <td>
                        <select>
                            {{#each weightClasses as |weightClass|}}
                                <option value="{{weightClass}}">{{weightClass}}</option>
                            {{/each}}
                        </select>
                        <select>
                            {{#each weaponTypes as |weaponType|}}
                                <option value="{{weaponType}}">{{weaponType}}</option>
                            {{/each}}
                        </select>
                    </td>
                    <td>
                        <input type="number" min="1" />
                    </td>
                    <td>
                        <select>
                            {{#each ranges as |range|}}
                                <option value="{{range}}">{{range}}</option>
                            {{/each}}
                        </select>
                    </td>
                    <td>
                        <input type="text" />
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div>
        <h2>Skills</h2>
        <textarea name="data.skills">{{data.skills}}</textarea>
    </div>
    <div>
        <h2>Abilities</h2>
        <textarea name="data.abilities">{{data.abilities}}</textarea>
    </div>
    <div>
        <h2>Numenera</h2>
        <h3>Artifacts</h3>
        <textarea name="data.numenera.artifacts">{{data.numenera.artifacts}}</textarea>
        <h3>Cyphers</h3>
        <textarea name="data.numenera.cyphers">{{data.numenera.cyphers}}</textarea>
        <h3>Oddities</h3>
        <textarea name="data.numenera.oddities">{{data.numenera.oddities}}</textarea>
    </div>
    <div>
        <h2>Background</h2>
        <textarea name="data.background">{{data.background}}</textarea>
    </div>
</form>
